(this.webpackJsonpproject_16=this.webpackJsonpproject_16||[]).push([[0],{29:function(e,t,n){e.exports=n(60)},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(0),c=n.n(r),u=n(27),s=n.n(u),o=n(11),l=n(1);n(34);var i=function(e){var t=e.userList,n=e.currentUser,u=e.setCurrentUser,s=Object(r.useState)(),l=Object(a.a)(s,2),i=l[0],m=l[1];Object(r.useEffect)((function(){m(t[0])}),[t]);return c.a.createElement("header",null,c.a.createElement("h1",null,"Welcome to UserHub"),c.a.createElement("form",{className:"user-select",onSubmit:function(e){e.preventDefault()}},n?c.a.createElement(c.a.Fragment,null,c.a.createElement(o.b,{to:"/posts",activeClassName:"current"},"POSTS"),c.a.createElement(o.b,{to:"/todos",activeClassName:"current"},"TODOS"),c.a.createElement("button",{onClick:function(e){m(t[0]),localStorage.removeItem("currentUser"),u(null)}},"LOG OUT, ",n.username)):c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{onChange:function(e){var n=e.target.value,a=t.find((function(e){return e.id==n}));m(a)}},t.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.username)}))),c.a.createElement("button",{onClick:function(e){var t;u(i),t=i,localStorage.setItem("currentUser",JSON.stringify(t))}},"LOG IN"))))},m=(n(40),function(e){var t=e.currentUser,n=e.userPosts;return c.a.createElement("div",{className:"user-posts"},c.a.createElement("h2",null,"Posts By ",t.username),n.map((function(e){var t=e.id,n=e.title,a=e.body;return c.a.createElement("div",{key:t,className:"post"},c.a.createElement("h3",null,n),c.a.createElement("p",null,a))})))}),p=(n(41),function(e){var t=e.currentUser,n=e.userTodos;return c.a.createElement("div",{className:"user-todos"},c.a.createElement("h2",null,"Todos By ",t.username),n.map((function(e){var t=e.id,n=e.title,a=e.completed;return c.a.createElement("div",{key:t,className:"todo"},c.a.createElement("h3",{style:{textDecoration:a?"line-through":"none"}},n))})))}),f=n(9),E=n.n(f),h=n(12),d=n(13),v=n.n(d),b="https://jsonplace-univclone.herokuapp.com";function O(){return(O=Object(h.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){return(g=Object(h.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users/").concat(t,"/posts"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(){return(j=Object(h.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users/").concat(t,"/todos"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var y=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],u=t[1],s=Object(r.useState)(JSON.parse(localStorage.getItem("currentUser"))),f=Object(a.a)(s,2),E=f[0],h=f[1],d=Object(r.useState)([]),v=Object(a.a)(d,2),b=v[0],y=v[1],S=Object(r.useState)([]),U=Object(a.a)(S,2),k=U[0],w=U[1];return Object(r.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){u(e)})).catch((function(e){}))}),[]),Object(r.useEffect)((function(){E?(function(e){return g.apply(this,arguments)}(E.id).then((function(e){y(e)})).catch((function(e){})),function(e){return j.apply(this,arguments)}(E.id).then((function(e){w(e)})).catch((function(e){}))):y([])}),[E]),c.a.createElement(o.a,null,c.a.createElement("div",{id:"App"},c.a.createElement(i,{userList:n,currentUser:E,setCurrentUser:h}),E?c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/posts"},c.a.createElement(m,{userPosts:b,currentUser:E})),c.a.createElement(l.b,{path:"/todos"},c.a.createElement(p,{userTodos:k,currentUser:E})),c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Welcome, ",E.username,"!")),c.a.createElement(l.a,{to:"/"}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Please log in, above.")),c.a.createElement(l.a,{to:"/"})))))};s.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.87abf55c.chunk.js.map